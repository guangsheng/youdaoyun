- 和单元测试一样，基准测试的文件名也必须以_test.go结尾，同时也必须导入testing包

#### 实例
运行结果
```
D:\MyZone\work_project\go_project\goinaction\code\chapter9\listing28>go test -v -run="none" -bench=. -benchtime="3s" -benchmem
BenchmarkSprintf-16     30000000               164 ns/op              16 B/op       2 allocs/op
BenchmarkFormat-16      100000000               45.8 ns/op             2 B/op       1 allocs/op
BenchmarkItoa-16        100000000               49.5 ns/op             2 B/op       1 allocs/op
PASS
ok      _/D_/MyZone/work_project/go_project/goinaction/code/chapter9/listing28      15.127s

```
代码
```
// Sample benchmarks to test which function is better for converting
// an integer into a string. First using the fmt.Sprintf function,
// then the strconv.FormatInt function and then strconv.Itoa.
package listing05_test

import (
	"fmt"
	"strconv"
	"testing"
)

// BenchmarkSprintf provides performance numbers for the
// fmt.Sprintf function.
func BenchmarkSprintf(b *testing.B) {
	number := 10

	b.ResetTimer()

	for i := 0; i < b.N; i++ {
		fmt.Sprintf("%d", number)
	}
}

// BenchmarkFormat provides performance numbers for the
// strconv.FormatInt function.
func BenchmarkFormat(b *testing.B) {
	number := int64(10)

	b.ResetTimer()

	for i := 0; i < b.N; i++ {
		strconv.FormatInt(number, 10)
	}
}

// BenchmarkItoa provides performance numbers for the
// strconv.Itoa function.
func BenchmarkItoa(b *testing.B) {
	number := 10

	b.ResetTimer()

	for i := 0; i < b.N; i++ {
		strconv.Itoa(number)
	}
}
```

**基准测试框架默认会在持续一秒的时间内，反复调用需要测试的函数。测试框架每次调用函数时，都会增加b.N的值，第一次调用时，b.N的值为1.需要注意，一定要将所有要进行基准测试的代码都放到循环里，并且循环要使用b.N的值，否则，测试的结果是不可靠的**