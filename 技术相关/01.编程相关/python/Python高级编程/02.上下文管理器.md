#### 说明
上下文管理器是一个包装任意代码的对象。上下文管理器保证进入上下文管理器时每次代码执行的一致性以及当退出上下文管理器时，相关的资源被正确回收。

在大多数方面，上下文管理器与装饰器的作用等价。用到最多的地方是确保资源被正确清理的一种方式。

#### 语法
使用with语句可以进入上下文管理器，with语句的表达式作用是返回一个遵循特定协议的对象
```python
with open('/path/to/filename', 'r') as my_file:
    contents = my_file.read()
```
上面的with表达式会返回一个对象，该对象包含两个特殊方法：```__enter__```和```__exit__```  
``__enter__```方法返回的结果会被赋给as关键字之后的变量。

``__enter__```不接受除self外的任何参数，当对象返回时方法立即执行。
``__exit__```带有三个位置参数（不包括self参数），一个异常类型，一个异常实例和一个回溯。
```python
class ContextManager(object):
    def __init__(self):
        self.entered = False
    def __enter__(self):
        self.entered = True
        return self
    def __exit__(self, exc_type, exc_val, exc_tb):
        self.entered = False
```

#### 几个应用场景
- 数据库连接类，enter方法中创建连接，exit方法中关闭连接
- 在__exit__方法中对接收的异常做处理，比如终止异常（exit返回True）、处理特定的异常类。（也就是对try...except中except字句的封装）
- 