###  matplotlib
#### Figure类，Axes类
- 整个图像为一个Figure对象
- 每个Axes对象都是一个拥有自己坐标系统的绘图区域(在Figure对象中可以包含一个，或者多个Axes对象)

#### matplotlib.pyplot
- plot(x, y) : 根据设置的x，y画折现图
- show() : 展示对应图像
- savefig(filename) :将图像保存到指定文件中
- figure() ：获得一个Figure实例，可以在这个画布上作画
- subplot(nrows, ncols, plot_number) : 含义：nrows行ncols列的第几个图，比如subplot(223)指的是画布分两行两列，这个图画到第4个格上，也就是第2行第2列上

#### 为了在图表中能够显示中文和负号等，需要下面一段设置
```python
import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif']=['SimHei'] #用来正常显示中文标签
plt.rcParams['axes.unicode_minus']=False #用来正常显示负号
```


### 代码示例
#### 折现图、散点图、饼图、柱形图
```python
# -*- coding:utf-8 -*-

import matplotlib.pyplot as plt

x = [1,2,3,4,5]
y = [2.3,3.4,1.2,6.6,7.0]

plt.figure(figsize=(9,6))
# 折现图
plt.subplot(221)
plt.plot(x,y)
plt.title("plot")
# 散点图
plt.subplot(222)
plt.scatter(x, y)
plt.title("scatter")
#饼图
plt.subplot(223)
plt.pie(y)
plt.title("pie")
#柱形图
plt.subplot(224)
plt.bar(x, y)
plt.title("bar")

plt.show()
```
#### 2.1 分析mac iostat
```shell
# 删除disk0行及tps行
sed '/load average/d' iostat.log |sed '/tps/d' > temp.log
# 删除行首和行尾空格和TAB
sed -i '' 's/^[ \t]*//g' temp.log
sed -i '' 's/[ \t]*$//g' temp.log
# 将标题头加到文件第一行
# sed  '1i,KB/t  tps  MB/s     KB/t  tps  MB/s     KB/t  tps  MB/s  us sy id   1m   5m   15m' temp.log
awk 'BEGIN{print"KB/t  tps  MB/s     KB/t  tps  MB/s     KB/t  tps  MB/s  us sy id   1m   5m   15m"} {print $0}' temp.log > analyze.log
# 替换空格为逗号
sed -i '' 's/[ ][ ]*/,/g' analyze.log
```

```python
# -*- coding:utf-8 -*-

import numpy as np
import matplotlib.pyplot as plt
import matplotlib.mlab as mlab

# 读入数据
r = mlab.csv2rec('/Users/shiguangsheng/Desktop/MyZone/work/tmp/analyze.log')

#形成X轴坐标数组
N = len(r)
ind = np.arange(N)  # the evenly spaced plot indices
#绘图
fig = plt.figure()
ax = fig.add_subplot(111)
ax.set_title(u"IOSTAT Trend Chart")

#给对应列画图
ax.plot(ind, r['15m'], 'o-',label='15m-View')
ax.plot(ind, r['5m'], 'o-',label='5m-View')
ax.plot(ind, r['1m'], 'o-',label='1m-View')

#显示图片
plt.show()
#将图片保存到指定目录
plt.savefig("/Users/shiguangsheng/Desktop/MyZone/work/tmp/analyze.png")
```