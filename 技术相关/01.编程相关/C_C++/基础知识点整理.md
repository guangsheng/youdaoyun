### 一、 编译预处理
共有三种，宏定义、文件包含和条件编译  
#### 1.宏定义
1）不带参数的宏定义  
```#define 标识符 字符串``  
作用：在编译预处理是将所有标识符替换成字符串。这种情况常用来定义符号常量，可以用来定义方法，如scanf  
A.宏定义的有效范围为从定义位置的文件结束，如果需要提前终止宏定义的范围，可以用#undef命令，如#undef OUT  
B.宏定义对双引号括起来的字符串中的字符串不进行替换。  

2）带参数的宏定义
```#define 标识符（参数表） 字符串```  
作用：在编译预处理是将源程序中所有标识符用字符串替换，并且将标识符中参数用实际的参数替换。  
例子  
```#define s(a,b,c) (a+b+c)/2```, 则程序中的s（1+2+3） 在编译预处理时会被替换为 (1+2+3)/2  
A.宏名和参数直接不能有空格，负责参数会被当做字符串  
B.```#define L(r) 2*r``` L(2+3) 会被替换为 2*2+3，若想替换为2*（2+3），则应定义为#define L(r) 2*(r)  

### 2.文件包含 就是```#include```命令实现的功能
文件包含不仅可以包含头文件，还可以包含自己编写的源程序文件。  
```#include <文件名>```  
```#include "文件名"```  

第一种形式系统将到包含C库函数头文件所在目录中查找  
第二种方式系统首先在当前目录查找，若找不到，在的系统path中配置的自动搜索路径中查找，最好猜到包含C库函数头文件的目录中查找  

“文件包含”可以嵌套，在文件包含的嵌套中，文件1包含文件2，文件2包含文件3，则在文件1也要包含文件3，并且文件3的包含要写在文件2之前。  

#### 3、在编写程序时，习惯上将公共符号常量定义，数据类型定义、extern类型的全局变量说明构成一个源文件，并以“.h”为文件名后缀。

### 二、 命令行参数
带参数的main函数的一般形式为  
```
main(int argc,char *argv[]){
........
}
```

说明：  
1）argc表示在命令行中参数的个数，命令名也作为一个参数。  
2）argv的元素依次为指向命令行中的各个字符串，包括命令名。

```
#include <stdio.h>
#include <stdlib.h>

int main(int argc,char *argv[]){
printf("参数的个数为%4d\n",argc);
int i;
for(i=1;i<argc;i++){
printf("第%2d个参数为%s\n",i,argv[i]);
}
return EXIT_SUCCESS;
}
```

### 三、 转义字符
转义字符 意义 ASCII码值(十进制)   

```
\a 响铃(BEL) 007 
\b 退格(BS) 008 
\f 换页(FF) 012 
\n 换行(LF) 010 
\r 回车(CR) 013 
\t 水平制表(HT) 009 
\v 垂直制表(VT) 011 
\\ 反斜杠 092 
\? 问号字符 063 
\' 单引号字符 039 
\" 双引号字符 034 
\0 空字符(NULL) 000 
\ddd 任意字符 三位八进制 
\xhh 任意字符 二位十六进制 
```

字符常量中使用单引号和反斜杠以及字符常量中使用双引号和反斜杠时，都必须使用转义字符表示，即在这些字符前加上反斜杠。   
在C程序中使用转义字符\ d d d或者\ x h h可以方便灵活地表示任意字符。\ d d d为斜杠后面跟三位八进制数，该三位八进制数的值即为对应的八进制A S C I I码值。\ x后面跟两位十六进制数，该两位十六进制数为对应字符的十六进制A S C I I码值。   

#### 使用转义字符时需要注意以下问题： 
+ 1) 转义字符中只能使用小写字母，每个转义字符只能看作一个字符。 
+ 2) \v 垂直制表和\f 换页符对屏幕没有任何影响，但会影响打印机执行响应操作。 
+ 3) 在C程序中，使用不可打印字符时，通常用转义字符表示

### 四、 变量
1、传值和传址  
2、变量定义在函数内部就是局部变量，定义在函数外部就是全局变量。全局变量的作用范围是从定义变量的位置开始到源程序结束。  
3、在一个函数中定义了一个与全局变量名相同的局部变量，局部变量有效，全局变量在该函数内无效。  
4、C语言的变量定义时，根据变量分配的存储空间的不同，可以分为自动变量、静态变量和寄存器变量  
5、自动变量 auto  
自动变量存储在内存中的动态数据区，该区域中的数据随程序需要动态的生成合释放。
局部变量只要不专门说明是static，都确定为自动变量。  
6、静态变量  
静态变量的存储空间为内存中的静态数据区，该区域中的数据在整个程序运行期间一直占用这些存储空间，知道程序结束。即静态变量的生存区就是整个程序的运行期，但在他的作用域外不能使用。  
所有的全局变量都为静态变量，而局部变量只有在加上static修饰符时，才为静态变量。  
特别注意：函数体内如果在定义静态变量的同时进行了初始化，则以后程序不再进行初始化。  
7、寄存器变量 类型修饰符为 register  
计算机从寄存器中读取数据会比在内存中读取数据速度要快，为了提高运算速度，C语言运行将一些频繁使用的局部变量定义为寄存器变量。  
注：只有局部变量可以是寄存器变量；寄存器变量只限于int型，char型和指针类型变量使用。当寄存器使用饱和时，系统会自动将寄存器变量转为为自动变量使用。  
8、  
1)如果组成一个程序的几个文件需要用到同一个全局变量，那么只要在其他引用改变的文件中说明该全局变量时extern即可。extern int num;  
2)如果源程序中的全局变量只能在本文件中使用，那么只要在全局变量声明是加static即可。static int num;  

### 五、 字符串
1、字符串按照从左到右的顺序依次存储在一段连续的空间里。C语言的字符串在实际存储时，将自动在字符串尾部加了一个结束标记'\0'  
2、  
char c[9]={"I like C"};  
char c[9]="I like C";  
char c[] = "I like C";  
3、字符串输入输出函数puts(),gets();  
puts() 输出字符串后自动换行  
4、字符串操作函数 string.h  

```
strlen(字符串) 测试字符串实际长度的函数 不包含\0  
strcpy(字符数组1，字符串2) 用于将字符串2复制到字符数组1中 字符数组1要足够大  
strcat(字符数组1，字符串2） 字符串2的内容复制连接到字符数组1后面 字符数组1要足够大      
strcmp(字符串1，字符串2） 返回两个字符串中第一个不相同的字符的ASCII的值的差  
strlwr 大写字母转小写  
strupr 小写字母转大写  
```
### 六、 结构体
#### 1、定义的一般形式  

```
struct 结构体名{
类型名1 成员名1；
......
类型名n 成员名n；
}
```

#### 2、结构体变量的定义  
1）先定义结构体，再定义结构体类型   

```
struct person{
......
};
struct person per;
```

2）定义类型的同时定义变量  

```
struct person{
......
} per;
```

3）直接定义结构体类型的变量，省略类型名  

```
struct {
......
} per;
```

#### 3、结构体变量的初始化--声明的同时赋初值  

```
struct person{
.....
} per={..,..,..};
```

### 七、 共用体
#### 1、共用体类型定义的一般形式
```
union 共用体名{
类型名1 成员们1；
......
类型名n 成员名n；
}
```
#### 2、共用体变量定义方式和结构体相同
#### 3、结构体和共用体的区别
结构体变量的每个成员分别占有独立的内存空间，因此结构体变量占用的内存空间是各成员占用内存空间之和。而共用体变量所有成员共同占用一段内存空间，所以共用体变量所占字节数是其成员中占内存空间最大的成员的字节数。  

#### 4、共用体变量可以作为结构体变量的成员，结构体变量的成员也可以作为共用体变量的成员

### 八、 枚举类型
#### 1、定义的一般形式
```
enum 枚举类型名{枚举元素1,枚举元素2,枚举元素3,...};
enum season{spring,summer,autumn,winter};
```

#### 2、
1）先定义枚举类型，再定义变量  
```enum season{spring,summer,autumn,winter};```  
```enum season s;```  
2）直接定义枚举变量  
```enum season{spring,summer,autumn,winter} s;```  
3、C中将枚举元素作为常量处理，所以枚举元素不能赋值  
4、枚举元素是被处理成一个整形常量的，它的值取决于定义时各枚举元素排列的先后顺序。第一个元素为0，第二个为1，依次顺序加1  
也可以在定义时改变枚举元素的值  
```enum season{spring=1,summer,autumn,winter=0};```  

### 九、 函数调用
1、实参和形参必须个数相等、类型一致、顺序对应，进行数据的值传递  
2、实参可以是常量、变量、表达式或函数  
3、函数同变量一样，在调用前应该在主调函数中事先声明。  
下面两种情况可以不用声明：1）被调用函数的定义的位置在主调函数之前。2）被调用函数是整形int  
4、函数不可以嵌套定义，但可以嵌套调用  
5、凡是可以化成an=f(an-1)的，都可以采用递归调用  
递归调用必须可以满足一定条件时结束递归调用  
6、只要第n项的值可以有它前面的一项或几项固定地表示，就可以使用递归算法。  

```
int f（int n）{
if（n<=0){
return 1;
}
if(n==1){
return 1;
}else{
retrun n*f(n-1);
}
}
```

### 十、 指针
1、一个变量的地址称为该变量的指针，用来存放一个变量地址的变量被称为指针变量。  
1）& 取地址运算符  
2）&*p = p &和*运算符的优先级相同，结合方式从右到做  
2、注意事项：  
1）指针变量是用来存放地址的。  
2）指针变量在确定地址后，才可以对他所指向的对象赋值。  
3）当指针变量做参数，此时形参和实参指向了同一个变量，当形参指向的变量发生变化时，实参指向的变量也发生了变化。  
3、指针与数组  
1）如果p指向一个数组元素，则p+1表示指向该元素的下一个元素。对于不同类型的数组，p值的改变时不同的。  

```
int a[] ={...}
int *p ；
p=a ;
```  

则引用一个数组元素有两种方法，1) a[i] 2) *(p+i）  
另，指针变量p可以实现自身值的改变，如p++;  

2）数组名作函数参数  
数组名作为函数参数是，在函数调用时，是把实参数组第一个元素的地址传递给形式参数数组，使得两个数组共同占用同一段内存空间，这样形参数组元素值发生改变，实参数组元素值也要发生改变。  
4、指针与字符串  
核心：字符串就是最后一个字符为'\0'的字符数组  
5、指向函数的指针  
函数作为一段程序，在内存中也要占据一片存储区域，它有一个起始地址，即函数的入口地址，这个地址就成为函数的指针。  
定义的一般形式： 类型名 （*指针变量名） （）；  
调用方式： (*指针变量名)（实参表）  
1）C语言规定函数的名字就是函数的入口地址。  
2）指向函数的指针的两个作用，第一个是调用函数，第二个是将函数作为参数在函数间传递  
3）对指向函数的指针做加减运算是无意义的  
6、指针数组的定义方式  
类型名 *数组名[常量表达式]  
使用指针数组来操作字符串的相关操作非常方便。1、两个字符串互换时，只要交换数组中指向这两个字符串的指针即可。2、使用指针数组字符串与二维数组操作字符串相比的优点：字符串长度可以不等，节约内存空间。  
7、指针与多维数组  
1）  

```
int a[2][3],*p;
p=a[0];
```
p+1 等同于 a[0]+1,所以*(p+1) 等同于a[0][1]的值
2）
任何一个二维数组a[m][n]的元素a[i][j]的地址都可以用a[0]+i*n+j来表示。
3）  

```
int a[2][3],(*p)[3];
p=a;
```
p+1等同于a+1,指向包含三个元素的一维数组a[1],所以*(p+1)等于一维数组名a[1]
*(p+1)+1等同于a[1]+1,所以*(*(p+1)+1)等于a[1][1]  

8、指向指针的指针  
指针也是变量，因此他也有自己的地址，而该地址又可以赋给另一个指针变量，这另一个指针变量就成为指向指针的指针。  
定义形式： 类型名 **指针变量名；  

### 十一、 文件操作
1、C语言把文件看成字符构成的序列，即字符流  
2、ASCII文件和二进制文件  
ASCII文件中的字节与实际字符一一对应，方便字符处理和用户阅读，但占用空间较大。  
二进制文件节省存储空间，也无需ASCII码和二进制形式直接的转换时间，但是无法直接输出，一般用于程序与程序之间或者程序与设备之间数据的传递。  
文件在使用时，指向打开的文件的指针可以指示文件的当前位置，当每次读取或写入数据时，是从文件指针的当前位置开始读取和写入数据的，然后指针自动移到读写下一个数据的位置。  
3、文件类型指针  
C语言在stdio.h文件中定义了一个FILE文件结构体类型。包含控制和管理文件所需要的各种信息。  
C程序中对文件的各种操作是通过指向文件结构体的指针变量来实现的。文件指针变量的赋值操作通过打开文件函数fopen()实现。  
4、文件的打开:   

```
FIILE *fopen(char *filename,char *mode)
File *fp1;
fp1 = fopen(要打开的文件名,处理文件的方式);
```
注：  
1） mode r 读取；w 写入；a 追加；r+ 读取写入；w+ 写入读取；a+ 读取追加；；；r，a在文件不存在时会创建新文件。上面说的六种模式都是针对的ASCII文件，如果是二进制文件，只要在模式后加字符b即可，如rb。  
2）如果由于文件不存在等原因造成不能打开文件，fopen会返回NULL。  
5、文件的关闭  
fclose(文件的指针);  
注：使用完后，要立即关闭文件。  
6、读取和写入数据  
1）fputc(字符，文件指针变量)函数  
向文件写入一个字符。如果操作成功，返回值是该字符，否则返回EOF.  
2）fgetc(文件指针变量)  
从文件中读取一个字符，如果文件结束，返回EOF.  
3）fputs(字符串,文件指针变量)  
向一个文件中写入一个字符串，写入成功，返回0，否则为EOF.注，字符串的结束标志\0不写入。  
4）fgets(字符数组,字符数,文件指针变量)  
从文件指针变量指向的文件的当前位置开始读取字符数-1个字符，并加上字符串结束标志'\0'一起放入字符数组中。如果从文件中读取字符时遇到换行符或文件结束标志EOF,读取结束。函数返回值为字符数组的首地址。  
5）fprintf(文件型指针变量,格式控制,输出表列);  
6）fscanf(文件指针型变量,格式控制,输入表列)；  
7）fwrite(写入文件的数据块的存放地址,一个数据块的字节数,数据块的个数,文件指针变量)
操作成功，返回值为实际写入数据块的个数  
8）fread(从文件读取的数据块存放的起始地址,一个数据块的字节数,数据块个数,文件指针变量)  
操作成功，返回值为实际读取的数据块的个数  
fwrite()和fread()函数读写文件时，只有使用二进制方式，才可以读写任何类型的数据。最常用于读写数组或结构体类型的数据。  
9）feof(文件类型指针变量)  
是否已经指到了文件最后的结束标志EOF.  
10）rewind(文件型指针变量)  
将指向文件的指针重新指向文件的开始位置。  
11）fseek(文件型指针变量,偏移量,起始位置)  
偏移量是一个长整形数，表示从其实位置移动的字节数，正数表示向后移，负数表示向前移
起始位置用0,1,2或者用名字SEEK_SET、SEEK_CUR、SEEK_END代表文件开始、当前位置和文件结束位置。  
如果指针设置成功，返回值为0，否则为非0值。  
12）ftell(文件型指针变量)  
用于测试指向文件的指针的当前位置，如果测试成功，则返回指向文件的指针当前指向的位置距离开头文件的字节数，否则返回-1L。  
