1. 鲁棒性：宽与输入，严与输出
2. 不在线场景下通信：引入通信中间放，如邮件系统。
3. 没有副作用的操作是幂等的（可重入）  
----
**性能相关**
4. 性能瓶颈：发展不均衡，物理限制，资源竞争，网速，硬盘读写速度，CPU频率，内存读取速度等，还有可靠性限制，算法限制以及经济限制。
5. 某些瓶颈随着技术发展，会被直接消除掉。准则：“当有疑问的时候，使用简单蛮力方法” “使设计尽量简单”
6. 几个关键词：容量、吞吐率、利用率、等待时间
7. 吞吐率：给定工作负载下的服务的工作速度，如每秒处理多少条SQL语句。
8. 串行：降低延迟可以提高吞吐率。

**准则：从系统的角度来进行性能优化工作**
9. 如果存在性能问题，要确定延迟还是吞吐率是需要解决的问题。分析后必须得出以下结论之一：1）消除当前性能瓶颈可以提升系统性能；2）消除当前性能瓶颈并不能提升系统性能。
10. 降低延迟可以考虑的方法：把好的资源给要求高的服务。
11. 一个服务可以记录频繁请求的结果，当接到重复的近期处理过的请求时，该服务可以直接返回记录的结果而无需重新计算---如操作系统cache。
12. 并行化：多处理器的计算机和多台计算机。  
案例：RAID(并行化)，Cache（快慢）  
**准则：光速会在计算机技术的很多方面成为根本性无法克服的限制**

----
**IO相关**
13. 批处理：将一个费时的操作平摊到多条消息。
14. 加速方法：**推测执行**，如文件内容预先加载到内存中。
15. 文件系统将多个写操作合并成一个磁盘请求进行批处理，为了降低寻道时间，磁盘写入数据块的顺序可能与文件系统发出请求的顺序不同。--》失效时就有可能使磁盘处于不一致的状态。  
**几个事实**：1）磁盘时机械部件，RAM时电子部件。2）磁盘容量每年增加一倍，成本每年降低一倍，但延迟在过去20年间只降低了一倍。
16. 利用虚存管理多层存储。
17. LRU：最近最少使用算法。在大多数时候，最近的过去可以很好的预测短期的未来。
18. 调度：先到先服务；短作业优先；轮转策略（长作业分解，是所有作业都变为短作业）；优先级调度（最早截止时间优先度调度器）  
**当高优先级任务被低优先级任务所持有的锁阻塞时，应该暂时将它自己的优先级借给锁当前的拥有者**
