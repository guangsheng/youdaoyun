### 命令列表
- docker build
- docker run
- docker volume
- docker ps [-a]
- docker port

#### 容器管理类
- docker attach [OPTIONS] CONTAINER
    - 允许用户查看容器内主进程或与它进行交互,按下CTRL+C终止命令，不但进程会退出，还会导致容器退出
- docker create
    - 从镜像创建容器，但不启动
- docker cp
    - 在容器和主机之间复制文件和目录
- docker exec
    - 在指定容器中运行一个命令
    - 进入容器```docker exec -it myredis bash```
    - 执行命令```docker exec -it myredis bash -c "echo 'Hello'"```
- docker kill
    - ```docker kill -S SIGNO CONTAINER```
- docker pause
- docker unpause
    - 暂停和重启指定容器内所有进程
- docker restart
- docker start
- docker stop
    - 重启，启动，停止指定容器
- docker rm
    - 删除一个或多个容器
    - -f 选项可以指定删除正在运行中的容器
    - -v 选项可以删除容器创建的数据卷（只要他们不是被绑定挂载或正被其他容器使用）

#### 容器查询类
- docker ps
    - 提供当前正在运行容器的信息
    - -a选项可以获取所有容器的信息，而不仅仅是运行中的容器
    - -q选项可以使得命令只返回容器ID
    - -f选项允许输入一个过滤条件
    - --no-trunc选项确保输出不会被截断
- docker logs
    - 输出指定容器的日志
    - -t 显示时间戳  
    - -f 跟随日志输出
- docker inspect
    - 获取指定容器详细信息
    - 获取数据卷信息 ```docker inspect -f {{.Mounts}} e487a598b255; docker inspect -f '{{range .Mounts}}{{.Source}}{{end}}' e487a598b255
```  
    - 获取IP信息 ```docker inspect --format='{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' myredis```
- docker port
    - 列出指定容器的端口映射信息
- docker top
    - 提供指定容器内运行中的进程信息
- docker diff
    - 对比容器所使用的镜像，显示容器的文件系统变化
- docker events
    - 打印守护进程的实时事件

#### 镜像管理类
- docker build
    - 从dockerfile创建镜像文件
- docker images
    - 列出所有本地镜像
    - -q选项设置只列出镜像ID
- docker history
    - 输出镜像中每个镜像层的信息
- docker rmi
    - 删除指定的一个或多个镜像。标签名不指定默认为latest
- docker load
    - 加载仓库，仓库以tar归档的形式从stdin读入。仓库可以包含数个镜像和标签。
    - 包含历史和元数据，使用的归档文件可以用docker save创建
- docker save
    - 把指定的镜像或仓库储存到tar归档，并输出到STDOUT，如果要写入文件，使用-o选项
- docker import
    - 从一个含有文件系统的归档文件创建镜像，归档可以有docker export产生。归档可以通过文件路径或URL指定，或者通过STDIN流导入。
    - 可以通过提供仓库和标签名称来为镜像附加标签。
    - 通过import生成的镜像只有一个镜像层。
- docker export
    - 将容器中的文件系统中内容以tar归档的格式导出，并输出到STDOUT。
    - 只会导出文件系统，任何元数据、配置都会丢失。
- docker commit
    - 从指定的容器创建镜像
#### 使用寄存服务器
- docker pull
    - 从寄存服务器下载指定镜像
- docker push
    - 将镜像或仓库推送到寄存服务器
- docker login
    - 在指定的寄存服务器进行注册或登录
- docker logout
    - 从docker寄存服务器中注销
- docker search
    - 列出匹配搜索词的公共仓库

#### 相关命令
- 运行一个可交互的容器： ```docker run -t -i ubuntu /bin/bash```
- 查看容器运行状态： ```docker ps -a```
- 停止容器：```docker stop docker_instace_name```
- 查看镜像：```docker images```

#### 样例记录
##### 容器查询类
```
# docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                     NAMES
79595c314dd9        redis               "docker-entrypoint..."   31 minutes ago      Up 31 minutes       0.0.0.0:16379->6379/tcp   nifty_mcclintock
# docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS                     NAMES
79595c314dd9        redis               "docker-entrypoint..."   31 minutes ago      Up 31 minutes              0.0.0.0:16379->6379/tcp   nifty_mcclintock
e487a598b255        redis               "docker-entrypoint..."   2 hours ago         Exited (0) 4 seconds ago                             myredis
# docker ps -a -q
79595c314dd9
e487a598b255
# docker port 79595c314dd9
6379/tcp -> 0.0.0.0:16379
# docker inspect -f {{.Mounts}} 79595c314dd9
[{volume 1ae8b486d098b71923913806230a62572df5070e0ead544d059f8eec54129f5b /var/lib/docker/volumes/1ae8b486d098b71923913806230a62572df5070e0ead544d059f8eec54129f5b/_data /data local  true }]
# docker inspect -f '{{range .Mounts}}{{.Source}}{{end}}' 79595c314dd9
/var/lib/docker/volumes/1ae8b486d098b71923913806230a62572df5070e0ead544d059f8eec54129f5b/_data
# docker inspect --format='{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' 79595c314dd9
172.17.0.3
# docker top 79595c314dd9
UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD
999                 5985                5967                0                   15:47               ?                   00:00:01            redis-server *:6379
# docker diff 79595c314dd9
C /root
A /root/.bash_history
```

##### 镜像管理类
```
# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
redis               latest              a858478874d1        3 weeks ago         184MB
python              3.4                 1306ea7c055d        4 weeks ago         685MB
ubuntu              latest              f7b3f317ec73        6 weeks ago         117MB
hello-world         latest              48b5124b2768        4 months ago        1.84kB
# docker history a858478874d1
IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
a858478874d1        3 weeks ago         /bin/sh -c #(nop)  CMD ["redis-server"]         0B                  
<missing>           3 weeks ago         /bin/sh -c #(nop)  EXPOSE 6379/tcp              0B                  
<missing>           3 weeks ago         /bin/sh -c #(nop)  ENTRYPOINT ["docker-ent...   0B                  
<missing>           3 weeks ago         /bin/sh -c #(nop) COPY file:9c29fbe8374a97...   344B                
<missing>           3 weeks ago         /bin/sh -c #(nop) WORKDIR /data                 0B                  
<missing>           3 weeks ago         /bin/sh -c #(nop)  VOLUME [/data]               0B                  
<missing>           3 weeks ago         /bin/sh -c mkdir /data && chown redis:redi...   0B                  
<missing>           3 weeks ago         /bin/sh -c set -ex   && buildDeps='   gcc ...   16.4MB              
<missing>           3 weeks ago         /bin/sh -c #(nop)  ENV REDIS_DOWNLOAD_SHA=...   0B                  
<missing>           3 weeks ago         /bin/sh -c #(nop)  ENV REDIS_DOWNLOAD_URL=...   0B                  
<missing>           3 weeks ago         /bin/sh -c #(nop)  ENV REDIS_VERSION=3.2.9      0B                  
<missing>           4 weeks ago         /bin/sh -c set -x  && wget -O /usr/local/b...   2.7MB               
<missing>           4 weeks ago         /bin/sh -c #(nop)  ENV GOSU_VERSION=1.7         0B                  
<missing>           4 weeks ago         /bin/sh -c apt-get update && apt-get insta...   40.8MB              
<missing>           4 weeks ago         /bin/sh -c groupadd -r redis && useradd -r...   330kB               
<missing>           4 weeks ago         /bin/sh -c #(nop)  CMD ["/bin/bash"]            0B                  
<missing>           4 weeks ago         /bin/sh -c #(nop) ADD file:f4e6551ac34ab44...   124MB   
# docker save redis:latest -o redis.1.0.0.tar
# ll redis.1.0.0.tar 
-rw------- 1 root root 190478336 Jun  9 16:12 redis.1.0.0.tar
# 
# docker load -i redis.1.0.0.tar 
Loaded image: redis:latest
# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
redis               latest              a858478874d1        3 weeks ago         184MB
python              3.4                 1306ea7c055d        4 weeks ago         685MB
ubuntu              latest              f7b3f317ec73        6 weeks ago         117MB
hello-world         latest              48b5124b2768        4 months ago        1.84kB
# 
# docker history ce567b0c1cb5
IMAGE               CREATED              CREATED BY          SIZE                COMMENT
ce567b0c1cb5        About a minute ago    

```