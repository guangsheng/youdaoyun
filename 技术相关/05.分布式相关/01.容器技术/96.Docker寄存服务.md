#### 参考文档 
http://blog.csdn.net/delphiwcdj/article/details/43099877  
http://www.bubuko.com/infodetail-1615984.html  
#### 搭建寄存器并做基本测试
```
# 运行本地寄存器
docker run -d -p 5001:5000 registry:2

# 对本地镜像打tag
docker tag identidock_identidock:latest localhost:5001/identidock:0.1
# 上传到本地寄存器
docker push localhost:5001/identidock:0.1
```

#### 从非寄存器所在机器使用寄存器时需要做的处理--认证相关  没有调通
从如下三种方法中选取一种即可  
- 对将要访问寄存服务器的所有Docker守护进程加上```--insecure-registry IP:PORT```参数，IP和PORT替换成寄存服务器的IP和PORT
```
vi /lib/systemd/system/docker.service 
ExecStart=/usr/bin/dockerd -H fd:// --insecure-registry=192.168.59.133:5001


systemctl daemon-reload
service docker restart

```

```
vim /etc/default/docker
修改Docker配置文件
vim /etc/default/docker
增加以下一行
DOCKER_OPTS="$DOCKER_OPTS --insecure-registry=104.131.173.242:5000"
重启Docker
sudo service docker restart
```
- 在主机上安装一个来自可信的证书颁发机构签署的证书
- 在主机上安装一个自签名的证书，并同时给需要访问寄存服务器的每个Docker守护进程都安装一份。

