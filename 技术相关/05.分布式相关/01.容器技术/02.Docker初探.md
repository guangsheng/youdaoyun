#### 了解
- Docker is the world’s leading software container platform. Developers use Docker to eliminate “works on my machine” problems when collaborating on code with co-workers. Operators use Docker to run and manage apps side-by-side in isolated containers to get better compute density. Enterprises use Docker to build agile software delivery pipelines to ship new features faster, more securely and with confidence for both Linux and Windows Server apps.
- Go语言编写
- 2013年推出
- 容器技术之一
- 官方网站：www.docker.com
- 采用Apache License V2开源协议
- 是开发人员和系统管理员用于开发、送输和运行应用程序的平台。 

#### 概念和原理
- Docker Engine：容器化技术
    - 是客户端-服务器模式的应用程序 
    - 一个服务器，也叫守护进程。守护进程创建和管理Docker对象（image，容器，网络，数据卷等）
    - 一个REST API
    - 命令行界面客户端（CLI）：通过脚本或CLI命令来控制或与Docker守护进程交互
- Docker Hub：Docker公司提供的SaaS服务

#### Docker架构
- 守护进程：构建、运行和分发Docker容器
- Docker image：是一个只读模板，包含了用于创建Docker容器的说明。在文本文件中被称为Dockerfile。是Docker的构建组件。
- Docker 容器：是Docker image的可运行实例，可以通过API来运行、启动、停止、移动或删除容器。每个容器是一个隔离、安全的应用程序平台。是Docker的运行组件。
- Docker registry：是一个image库，是Docker的分发组件。
- Docker service：该功能允许一个群（swarm）Docker节点一起工作，运行一个预定数量的副本。对于消费者而言，Docker服务像是一个单一的应用程序。是Docker的可扩展组件。

#### docker的一些底层技术
- 联合文件系统：Union file systems,简称UnionFS，通过创建层来操作的文件系统。允许单独文件系统的文件和目录被透明的覆盖，形成单个一致的文件系统。
- 命名空间：该技术用于提供容器的隔离工作空间。容器的每个方面都运行在单独的命名空间中，并且访问仅限于该命名空间
    - pid命名空间：用于进程隔离
    - net命名空间：用于管理网络接口
    - ipc命名空间：管理对IPC资源的访问
    - mnt命名空间：管理文件系统安装点，mount
    - uts命名空间：隔离内核和版本标识符（UTS:UNIX分时系统）
- 控制组：将应用程序限制为特定的一组资源。控制组允许Docker Engine将可用的硬件资源共享到容器，并且可选的实施限制和约束，比如内存大小。
- 容器格式：Docker Engine将命名空间、控制组和UnionFS组合成一个称为容器格式的包装器。默认容器格式为libcontainer.

#### Docker Image工作原理
Docker image是只读模板，从容器实例化而来。每个image由一系列层组成。Docker使用联合文件系统将这些图层组合成单个image。
当更改Docker image时，比如，将应用程序更新到新版本，可以创建一个新层，并仅替换需要更新的层，其他层原封不动。要分发更新，只需传输要更新的层。

#### 容器工作原理
每个容器由image创建，该image定义了容器的内容，包括启动容器时运行的进程及各种其他配置的详细信息。

```
docker run -i -t ubuntu /bin/bash
```
运行此命令时，Docker Engine执行如下操作
- 拉取ubuntu image：Engine检查ubuntu image是否存在，如果已在本地存在，将其用于新容器，否则从Docker Hub中获取
- 创建一个新容器
- 分配文件系统并装载读写层：容器在文件系统中创建并将读写层添加到image
- 分配网络/网桥接口：创建一个允许Docker容器与本地主机通信的网络接口
- 设置IP地址：从池中查找并附加可用的IP地址
- 执行指定的进程：执行/bin/bash可执行文件

#### Ubuntu16.04下的安装和初步使用

```BASH
sudo apt-get install apt-transport-https ca-certificates
sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D
cd /etc/apt/sources.list.d/
echo "deb https://apt.dockerproject.org/repo ubuntu-xenial main" > docker.list
sudo apt-get update
#验证APT
sudo apt-cache policy docker-engine
#前置条件
sudo apt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual
#重启系统
reboot

#安装docker
sudo apt-get upgrade
sudo apt-get install docker-engine

```

```BASH
#启动
sudo service docker start
#测试
sudo docker run hello-world
```
